<%# The page to show the question for the user to answer %>
<%# Polar Survey %>
<%# @author Aun Raza (301074590) %>
<%# @author Jamee Kim (301058465) %>
<%# @author Jerome Ching (300817930) %>
<%# @author Sophie Xu (301098127) %>
<%# @author Tien Sang Nguyen (301028223) %>
<%# @author Eunju Jo (301170731) %>

<div class="row justify-content-center">

  <h1 class="text-center polarText display-1">Survey</h1>
  <h2 class="text-center polarText display-1"><%= surveyField.title %></h2>
  <form action="" method="POST" class="my-4 border border-dark col col-md-7 logoGray border-3 whiteText">

    <% if (surveyField.type === "yesno") { %>

    <% for(let count = 0; count < 5; count++) {%>
    <div class="row justify-content-center my-4">
      <h4 class=" col col-lg-8"><%= count + 1 %>) <%= surveyField.questions[count] %></h4>
    </div>
    <div class="row justify-content-center">
      <div class="row justify-content-center col-6">
        <div class="form-check">
          <input class="form-check-input" type="radio" name="answer<%= count + 1%>" id="flexRadioDefault1<%= count %>"
            value="True" required>
          <label class="form-check-label" for="flexRadioDefault1<%= count %>">True</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="answer<%= count + 1%>" id="flexRadioDefault2<%= count %>"
            value="False" required>
          <label class="form-check-label" for="flexRadioDefault2<%= count %>">False</label>
        </div>
      </div>
    </div>
    <% } %>

    <% } else { %><%# if (surveyField.type === "yesno") %>

    <% for (let i = 0; i < surveyField.questions.length; i++) { %>
    <% let qIdx = i + 1; %>
    <div class="row justify-content-center my-4">
      <h4 class="col col-lg-8"><%= qIdx %>) <%= surveyField.questions[i].question %></h4>
    </div>
    <div class="row justify-content-center">
      <div class="row justify-content-center col col-lg-7">
        <% for (let j = 0; j < surveyField.questions[i].choices.length; j++) { %>
        <% let aIdx = j + 1; %>
        <div class="form-check">
          <input class="form-check-input ms-2 me-1" type="radio" name="answer<%= qIdx %>" id="answer<%= qIdx %><%= aIdx %>"
            value="<%= aIdx %>" required>
          <label class="form-check-label col col-lg-6" for="answer<%= qIdx %><%= aIdx %>">
            <%= surveyField.questions[i].choices[j] %>
          </label>
        </div>
        <% } %>
      </div>
    </div>
    <% } %>

    <% } %><%# if (surveyField.type === "yesno") %>

    <div class="row justify-content-center pt-4 pb-5">
      <button type="submit" class="customButtonDownload col col-lg-3 my-2 py-2">Submit</button>
      <div class="col-1"></div>
      <a href="/surveyavailable" class="customButtonCancel col col-lg-3 my-2 py-2 text-center">Cancel</a>
    </div>
  </form>
</div>
